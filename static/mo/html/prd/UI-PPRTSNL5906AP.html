<!doctype html>
<html lang="ko">
<head>
	<title>UI</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">

	<meta name="format-detection" content="telephone=no">
	<link href="../../img/common/favicon.ico" rel="shrtcut icon">
	<link href="../../img/common/favicon.png" rel="apple-touch-icon-precomposed">

	<link rel="stylesheet" href="../../css/style.css">

	<script src="../../js/jquery-3.4.1.js"></script>
	<script src="../../js/jquery-ui.js"></script>
	<script src="../../js/jquery.ui.touch-punch.js"></script>
	<script src="../../js/swiper.js"></script>

	<script src="../../js/ui.js"></script>
	<script src="../guide/html.js"></script><!-- 개발페이지에서는 html.js 임포트 하지말아주세요. -->

</head>
<body class="body">
	<div class="wrap" id="wrap">

		<article class="pop-layer a pop-ipdgn" id="pop-ipdgn">
			<div class="pbd">
				<div class="phd">
					<div class="in">
						<h1 class="ptit">비예금 상품설명 확인서</h1>
					</div>
				</div>
				<div class="pct">
					<main class="poptents">
						<div class="ipdgn-step">
							<div class="ut-topfix">
								<div class="inr">
									<div class="ut-steps d">
										<div class="box">
											<div class="gage">
												<span class="bar"></span>
											</div>
											<div class="nums">
												<span class="tot"><i class="blind">전체</i> <b class="b">4</b></span>
												<span class="num"><b class="b">1</b></span>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="ipdgn-q q-slider" data-ui="qslider" tabindex="-1">
							<div class="swiper-container swiper">
								<ul class="swiper-wrapper slide">
									<li class="swiper-slide">
										<div class="q-section">
											<h2 class="tit">본 상품은 예·적금과 다른 상품으로서, 예금자보호를 받지 못해 원금 손실 위험이 있습니다. 확인하셨습니까?</h2>
											<div class="list">
												<ul>
													<li><label class="checkbox cv"><input type="radio" name="q1"><span class="txt">예</span></label></li>
													<li><label class="checkbox cv"><input type="radio" name="q1"><span class="txt">아니오</span></label></li>
												</ul>
											</div>
										</div>
									</li>
									<li class="swiper-slide">
										<div class="q-section">
											<h2 class="tit">본 상품은 예·적금과 다른 상품으로서 원금손실 위험이 있습니다. 원금손실 발생 가능성에 대해 어떻게 생각하세요?</h2>
											<div class="list">
												<ul>
													<li><label class="checkbox cv"><input type="radio" name="q2"><span class="txt">높은 수익률을 위해 감수해야 한다.</span></label></li>
													<li><label class="checkbox cv"><input type="radio" name="q2"><span class="txt">경미한 수준이다.</span></label></li>
													<li><label class="checkbox cv"><input type="radio" name="q2"><span class="txt">거의없다</span></label></li>
												</ul>
											</div>
										</div>
									</li>
									<li class="swiper-slide">
										<div class="q-section">
											<h2 class="tit">본 상품의 최대 원금손실 가능 금액에 대해 어떻게 생각하시나요?</h2>
											<div class="list">
												<ul>
													<li><label class="checkbox cv"><input type="radio" name="q3"><span class="txt">시장 상황에 따라 손실이 무한하게 커질 수 있다.</span></label></li>
													<li><label class="checkbox cv"><input type="radio" name="q3"><span class="txt">원금 전액손실이 발생 할 수 있다.</span></label></li>
													<li><label class="checkbox cv"><input type="radio" name="q3"><span class="txt">원금의 최대 20%까지 소실이 발생할 수 있다.</span></label></li>
													<li><label class="checkbox cv"><input type="radio" name="q3"><span class="txt">경미한 수준일 것이다.</span></label></li>
													
												</ul>
											</div>
										</div>
									</li>
									<li class="swiper-slide">
										<div class="q-section">
											<h2 class="tit">원금손실 발생 가능성과 최대 원금손실 가능금액을 정확하게 이해하였으며, 이러한 위험에도 불구하고 본 상품에 가입하시겠습니까?</h2>
											<div class="list">
												<ul>
													<li><label class="checkbox cv"><input type="radio" name="q4"><span class="txt">예</span></label></li>
													<li><label class="checkbox cv"><input type="radio" name="q4"><span class="txt">아니요</span></label></li>
												</ul>
											</div>
										</div>
									</li>
								</ul>
							</div>
						</div>
					</main>
				</div>
				<div class="pbt">
					<div class="btn-set b2">
						<button type="button" class="btn b rd lg" data-qslider="prev" style="display: none;">이전</button>
						<button type="button" class="btn a rd lg" data-qslider="next">다음</button>
					</div>
				</div>
				<button type="button" class="btn-pop-close"><i class="blind">닫기</i></button>
			</div>
		</article>

		<!-- [D] 2022-04-20 alert 추가 -->
		<script>
			ui.popup.open('pop-ipdgn');  // 팝업 열기

			var qslider = new Swiper('[data-ui="qslider"] .swiper-container', {
				slidesPerView: 1,
				allowTouchMove: false,
				autoHeight:true,
				autoplay:false,
				loop: false,
				observer: true, /* 2022-06-22 option 추가 */
				observeParents: true,
				on: {
					init: function () {
						_setQsliderNavi(this)
						_setQsliderSlide(this);
					},
					slideChange: function () {
						$('.pop-layer.a .pct').scrollTop(0);
						$('.ipdgn-step .ut-steps.d .num .b').text(this.activeIndex + 1);
						ui.steps.set();

						_setQsliderNavi(this)
						_setQsliderSlide(this);
					},
				}
			});
			function _setQsliderNavi(element) {
				if( element.activeIndex > 0 ) {
					$('[data-qslider="prev"]').show();
				} else {
					$('[data-qslider="prev"]').hide();
				}
			}
			function _setQsliderSlide(element) {
				$(element.slides).attr('aria-hidden', true);
				$(element.slides).find('.checkbox input').attr('tabindex', '-1');
				$(element.slides[element.activeIndex]).attr('aria-hidden', false);
				$(element.slides[element.activeIndex]).find('.checkbox input').attr('tabindex', '');
			}
			function _setQsliderKeytab() {
				$('[data-ui="qslider"]').focus();
				ui.keytab.set( $('[data-ui="qslider"]') );
			}

			$(document).on('click', '[data-qslider="prev"]', function() {
				qslider.slidePrev();
				_setQsliderKeytab();
			});

			$(document).on('click', '[data-qslider="next"]', function() {
				var checkbox = $(qslider.slides[qslider.activeIndex]).find('.checkbox input');

				// 각 슬라이드 라디오 checked 확인
				if( checkbox.filter(':checked').length <= 0 ) {
					checkAlert('checked false'); /* 2022-06-22 함수명변경 alert -> checkAlert */
					return;
				}

				// 마지막 슬라이드 완료시
				if( qslider.slides.length - 1 == qslider.activeIndex) {
					//checkAlert('complete');
					return;
				}

				qslider.slideNext();
				_setQsliderKeytab();
			});

			//답변을 선택하지 않거나 잘못된 답을 선택할 경우, 팝업 노출
			var checkAlert = function(){ /* 2022-06-22 함수명변경 alert -> checkAlert */
				// 알럿창 띄우기
				ui.alert("본 상품은(비예금상품) 원금전액 손실 (최대100%)이 발생 가능한 상품입니다. 그래도 가입을 희망하실 경우 선택 항목을 다시 선택해 주세요.",{
					ycb:function(){
						//console.log("알럿1확인결과");
					},
					ybt:"확인"
				});
			}
		</script>
	</div>
</body>
</html>
