<!doctype html>
<html lang="ko">
<head>
	<title>UI</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	
	<meta name="format-detection" content="telephone=no">
	<link href="../../img/common/favicon.ico" rel="shrtcut icon">
	<link href="../../img/common/favicon.png" rel="apple-touch-icon-precomposed">

	<link rel="stylesheet" href="../../css/style.css">
	
	<script src="../../js/jquery-3.4.1.js"></script>
	<script src="../../js/jquery-ui.js"></script>
	<script src="../../js/jquery.ui.touch-punch.js"></script>
	<script src="../../js/swiper.js"></script>
	
	<script src="../../js/ui.js"></script>
	<script src="../guide/html.js"></script><!-- 개발페이지에서는 html.js 임포트 하지말아주세요. -->

</head>
<body class="body">
<div class="wrap" id="wrap">
	
	<!-- 헤더-->
	<include class="header" id="header" src="../inc/header.html" data-include-opt='{"class":"is-title,is-back","title":"아파트담보대출"}'></include>

	<!---- 바디 - 여기위로는 템플릿영역 ---->

	<main class="container page prd loan step content-check" id="container">
		
		<!-- 본문 영역 -->
		<div class="contents" id="contents">
			<div class="ut-topfix step">
				<div class="inr">
					<div class="ut-steps d">
						<div class="tit">6.계약 전 확인</div>
						<div class="box">
							<div class="gage">
								<span class="bar"></span>
							</div>
							<div class="nums">
								<span class="tot"><b class="b">8</b></span>
								<span class="num"><b class="b">6</b></span>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- [D] 2022-03-29  타이틀 br 추가, 첫번째 라디오에 value값 추가, 스크립트 타화면과 동일하게 변경 -->
			<div class="prd-tbox">
				<h2 class="hd-tit3">계약체결 전 꼭 확인해야 할<br>중요사항에 답변해 주세요.</h2>
			</div>
			<!-- [D] 2022-02-09  rgbox-list 전체 수정-->
			<div class="rgbox-list">
				<ul class="list">
					<li>
						<div class="rgbox">
							<p class="text-type2">이 금융거래의 실소유자인가요?</p>
							<div class="radio-wrap">
								<label class="radio" for="radio1-1"><input type="radio" value="0" id="radio1-1" name="radio1"><span class="txt">예</span></label>
								<label class="radio" for="radio1-2"><input type="radio" id="radio1-2" name="radio1"><span class="txt">아니요</span></label>
							</div>
						</div>
					</li>
					<li>
						<div class="rgbox">
							<p class="text-type2">아파트담보대출은 아파트가 위치한 지역, 시세, 개인의 소득 등에 따라 아파트담보대출이 다르게 적용될 수 있습니다.</p>
							<p class="text-type2">대출 가능 여부 및 금리, 한도와 관련하여 정확히 이해하셨나요? </p>
							<div class="radio-wrap">
								<label class="radio" for="radio2-1"><input type="radio" value="0" id="radio2-1" name="radio2"><span class="txt">예</span></label>
								<label class="radio" for="radio2-2"><input type="radio" id="radio2-2" name="radio2"><span class="txt">아니요</span></label>
							</div>
						</div>
					</li>
					<li>
						<div class="rgbox">
							<p class="text-type2">대출계약이 성립한 날로부터 3년 이내의 기간 동안에는 약정하신 대출금을 조기상환하는 경우 <b>중도상환수수료가 발생</b>할 수 있습니다.</p>
							<p class="text-type2">관련 내용을 충분히 이해하셨나요? </p>
							<div class="radio-wrap">
								<label class="radio" for="radio3-1"><input type="radio" value="0" id="radio3-1" name="radio3"><span class="txt">예</span></label>
								<label class="radio" for="radio3-2"><input type="radio" id="radio3-2" name="radio3"><span class="txt">아니요</span></label>
							</div>
						</div>
					</li>
					<li>
						<div class="rgbox">
							<p class="text-type2">아파트담보대출과 관련하여 체결한 약정을 위반하는 경우 기한의 이익이 상실되며, 고객님께서는 대출받은 금액을 즉시 상환하여야 합니다.</p>
							<p class="text-type2">관련 내용을 충분히 이해하셨나요?</p>
							<div class="radio-wrap">
								<label class="radio" for="radio4-1"><input type="radio" value="0" id="radio4-1" name="radio4"><span class="txt">예</span></label>
								<label class="radio" for="radio4-2"><input type="radio" id="radio4-2" name="radio4"><span class="txt">아니요</span></label>
							</div>
						</div>
					</li>
					<li>
						<div class="rgbox">
							<p class="text-type2">대출기간이 만기되고 기한의 이익이 상실되었음에도 채무를 상환하지 않을 경우, 교보생명은 담보로 제공된 주택을 처분하여 대출금을 상환하는 데 이를 사용할 수 있으며, 이 경우 고객님은 담보로 제공된 주택의 소유권을 상실할 수 있습니다.</p>
							<p class="text-type2"><b>이러한 위험에도 불구하고 본 상품을 계약하시겠어요? </b></p>
							<div class="radio-wrap">
								<label class="radio" for="radio5-1"><input type="radio" value="0" id="radio5-1" name="radio5"><span class="txt">예</span></label>
								<label class="radio" for="radio5-2"><input type="radio" id="radio5-2" name="radio5"><span class="txt">아니요</span></label>
							</div>
						</div>
					</li>
				</ul>					
			</div>

			
			
		</div>

		<!-- 하단 고정영역 -->
		<nav class="floatbots no-hide">
			<div class="inr">
				<div class="btn-set b2">
					<a href="javascript:;" class="btn lg rd b" onclick="rgboxPrev();">이전</a>
					<a href="javascript:;" class="btn lg rd a" onclick="rgboxNext();">다음</a>
				</div>
			</div>
		</nav>
		
	</main>

	<!-- 개발시 레이어팝업 위치는 .container 바깥으로 넣어주세요 -->

	<script>
		// [D] 2022-02-09 전체 수정 
		/*
		const rgboxList = $('.rgbox-list');
		let list = rgboxList.find('.list li');

		list.first().addClass('active');

		$(document).on("click", ".rgbox-list .rgbox input:radio", function() {
			let isCheck = $(".rgbox-list .rgbox").find("input:radio").prop("checked");
			if( isCheck ){
				$(this).closest('.list li').next().addClass('active');
				let ps = $(this).closest('.list li').next().offset().top;
				console.log(ps);
			}else{
				// ui.alert('첵크해라~')
				console.log('아니오 선택');
			}
		});
*/	
	// [D] 2022-03-29 전체 수정 
	$(document).ready(function(){
		var $list = $(".rgbox-list .list > li"); //각 화면 li 클래스
		var currentIndex = 0; //현재 보고있는 항목
		var vcTestCnt = $list.length;
		var headerH, stepH = 0;
	
		$list.eq(currentIndex).show();
	
		$list.each(function(i){
			$(this).find(".radio input").change(function(){
					var _this = $(this);
					currentIndex = i;
					if(_this.is(':checked') && _this.val() == 0 && !$list.eq(currentIndex).hasClass("isChecked")){
						//완료
						if(currentIndex == (vcTestCnt-1)){
							$(".floatbots button").prop({"disabled":false});
							//alert("완료");
							$list.eq(currentIndex).addClass("isChecked");
							return;
						}

						nextView(currentIndex);
						moveScroll($list.eq(currentIndex+1));
					}
					
				});
		});

		function nextView(index){
			$list.eq(index).addClass("isChecked").next().show();
		}

		function moveScroll(elm) {	
			headerH = $(".header").outerHeight() || 0;
			stepH = $(".ut-topfix").outerHeight() || 0;	

			setTimeout(function(){
				$("html, body").stop().animate({scrollTop : elm.position().top - (headerH + stepH)}); 
			},0);	
		}
		
		
	});
		


		// var rgboxNext = function(){  // 다음
		// 	var isCheck = $(".swiper-slide-active").find("input:radio").is(":checked");
		// 	var chkTotNum = $(".rgbox-list .slide>li").length;
		// 	// var thisNum = $(".rgbox-list .slide>li.swiper-slide-active").index();
		// 	var thisNum = rgboxSlide.realIndex+1;
		// 	console.log(isCheck , thisNum , chkTotNum);
		// 	if( isCheck ){
		// 		rgboxSlide.slideNext();
				
		// 	}else{
		// 		ui.alert('첵크해라~',{
		// 			ycb:function(){
		// 				$(".swiper-slide-active .rgbox").attr("tabindex","-1").focus();
		// 			}
		// 		});
		// 	}
		// }
		// var rgboxPrev = function(){  // 이전
		// 	rgboxSlide.slidePrev();
		// }

		// var rgboxSlide = new Swiper('.rgbox-list', {
		// 	slidesPerView: 1,
		// 	allowTouchMove: false,
		// 	observer: true,
		// 	observeParents: true,
		// 	watchOverflow:true,
		// 	autoHeight:true,
		// 	autoplay:false,
		// 	preloadImages: false,
		// 	loop: false,
		// 	on: {
		// 		slideChangeTransitionEnd: function () {
		// 			$(".swiper-slide-active .rgbox").attr("tabindex","-1").focus();
		// 		},
		// 	}
		// });

	</script>

	<!---- 바디 - 여기밑으로 템플릿영역 ---->

	<!-- 고정메뉴 -->
	<include class="floatnav" src="../inc/floatnav.html" data-include-opt='{"visible":"true"}'></include>

	<!-- 푸터 -->
	<include class="footer" src="../inc/footer.html" data-include-opt='{"visible":"false"}'></include>

</div>
</body>
</html>
